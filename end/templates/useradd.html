{% extends 'userframe.html' %}
{% block js %}
    <script src="../static/datepicker/bootstrap-datepicker.js"></script>
    <script src="../static/js/uploadPreview.min.js" type="text/javascript"></script>
    <script>
       window.onload = function () {
            new uploadPreview({ UpBtn: "up_img", DivShow: "imgdiv", ImgShow: "imgShow" });
        }
    </script>
{% endblock %}
{% block css %}
    <link href="../static/datepicker/datepicker.css" rel="stylesheet" media="screen">
{% endblock %}
{% block pageheader %}
    {% if data.isNew %}
        添加用户
    {% else %}
        编辑用户
    {% endif %}
{% endblock %}
{% block maincontent %}
         <!-- validation -->
        <div class="row-fluid well" style="width: 75%;margin: auto;">
             <!-- block -->
            <div class="block">
                <div class="block-content collapse in">
                    <div class="span12">
                        <div class="center">
                        {% if not data.isNew %}
                            <img src="{{ data.face }}">
                        {% endif %}
                        </div>

        <!-- BEGIN FORM-->
        <form action="/useradd/" class="form-horizontal col-sm-12" enctype="multipart/form-data" method="POST">
            <fieldset>

                <h4 class="header blue bolder smaller">基本信息</h4>
                <div class="form-group">
                    <label class="col-sm-3 control-label no-padding-right">分类编号<span class="required">*</span></label>
                    <div class="col-sm-9">
                        <select class="span6 m-wrap" name="state">
                            {% for class in data.class_list %}
                            <option value="{{ class }}">{{ class }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label no-padding-right">权限集合<span class="required">*</span></label>
                    <div class="col-sm-9">
                        <select class="span6 m-wrap" name="state">
                            {% for role in data.role_list %}
                            <option value="{{ role }}">{{ role }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label no-padding-right">用户状态<span class="required">*</span></label>
                    <div class="col-sm-9">
                        <select class="span6 m-wrap" name="state">
                            <option value="0">锁定</option>
                            <option value="1">在岗</option>
                            <option value="2">长假</option>
                            <option value="3">离职</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label no-padding-right">用户名<span class="required">*</span></label>
                    <div class="col-sm-9">
                        <input name="username" type="text" class="span6 m-wrap" value="{{ data.username }}" />
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label no-padding-right">密码<span class="required">*</span></label>
                    <div class="col-sm-9">
                        <input name="password" type="password" class="span6 m-wrap"/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label no-padding-right">确认密码<span class="required">*</span></label>
                    <div class="col-sm-9">
                        <input name="confirmpassword" type="password" class="span6 m-wrap"/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label no-padding-right">真实姓名<span class="required">*</span></label>
                    <div class="col-sm-9">
                        <input name="name" type="text" class="span6 m-wrap" value="{{ data.name }}"/>
                    </div>
                </div>
            <!--
                <div class="form-group">
                    <label class="col-sm-3 control-label no-padding-right">图像</label>
                    <div class="col-sm-9">
                        <div id="imgdiv"><img id="imgShow" width="100" height="100" /></div>
                        <input type="file" class="file-uploader " name="face" id="up_img" placeholder="../static/images/user.png">
                    </div>
                </div>
            -->

                <h4 class="header blue bolder smaller">联系信息</h4>

                <div class="form-group">
                    <label class="col-sm-3 control-label no-padding-right">手机<span class="required">*</span></label>
                    <div class="col-sm-9">
                        <input name="mobile" type="text" class="span6 m-wrap" value="{{ data.mobile }}"/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label no-padding-right">电子邮箱<span class="required">*</span></label>
                    <div class="col-sm-9">
                        <input name="email" type="text" class="span6 m-wrap" value="{{ data.email }}"/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label no-padding-right">联系地址</label>
                    <div class="col-sm-9">
                        <input name="address" type="text" class="span6 m-wrap" value="{{ data.address }}"/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label no-padding-right">邮政编码</label>
                    <div class="col-sm-9">
                        <input name="zipcode" type="text" class="span6 m-wrap" value = "{{ data.zipcode }}"/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label no-padding-right">出生年月日<span class="required">*</span></label>
                    <div class="col-sm-9">
                        <input name="birthday" id="birthday" type="text" class="span6 m-wrap" value="{{ data.birthday |date:"Y年m月d日" }}"/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label no-padding-right">证件号码<span class="required">*</span></label>
                    <div class="col-sm-9">
                        <input name="idcard" type="text" class="span6 m-wrap" value="{{ data.idcard }}"/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label no-padding-right">有效证件类型<span class="required">*</span></label>
                    <div class="col-sm-9">
                        <select class="span6 m-wrap" name="status">
                            <option value="">身份证</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label no-padding-right">紧急联系人<span class="required">*</span></label>
                    <div class="col-sm-9">
                        <input name="contact" type="text" class="span6 m-wrap" value="{{ data.contact }}"/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label no-padding-right">紧急联系人手机<span class="required">*</span></label>
                    <div class="col-sm-9">
                        <input name="contactmobile" type="text" class="span6 m-wrap" value="{{ data.contactmobile }}"/>
                    </div>
                </div>

                <h4 class="header blue bolder smaller">其它信息</h4>

                <div class="form-group">
                    <label class="col-sm-3 control-label no-padding-right">内容</label>
                    <div class="col-sm-9">
                        <input name="content" type="text" class="span6 m-wrap"/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label no-padding-right">备注</label>
                    <div class="col-sm-9">
                        <input name="memo" type="text" class="span6 m-wrap"/>
                    </div>
                </div>
                <!--
                <div class="form-group">
                    <label class="col-sm-3 control-label no-padding-right">状态<span class="required">*</span></label>
                    <div class="col-sm-9">
                        <select class="span6 m-wrap" name="status">
                            <option value="">选择...</option>
                            <option value="Category 1">删除</option>
                            <option value="Category 2">有效</option>
                            <option value="Category 3">审核未通过</option>
                            <option value="Category 4">审核通过</option>
                        </select>
                    </div>
                </div>
                -->
                <div class="clearfix form-actions">
                    <div class="col-md-offset-3 col-md-9">
                        <button type="submit" class="btn btn-primary">确定</button>
                        <button type="button" class="btn">取消</button>
                    </div>
                </div>
            </fieldset>
        </form>
        <!-- END FORM-->
    </div>
    </div>
</div>
            <!-- /block -->
</div>
         <!-- /validation -->
{% endblock %}

{% block tailjs %}
    <script>
    $(function(){
        $('#birthday').datepicker();
    })
    </script>
{% endblock %}